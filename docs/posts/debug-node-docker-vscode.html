<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"/><link rel="manifest" href="/favicon/site.webmanifest"/><link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#000000"/><link rel="shortcut icon" href="/favicon/favicon.ico"/><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-config" content="/favicon/browserconfig.xml"/><meta name="theme-color" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><meta name="description" content="A statically generated blog example using Next.js and Markdown."/><meta property="og:image" content="https://og-image.now.sh/Next.js%20Blog%20Starter%20Example.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><title>Debug Node application inside docker using vs code | Next.js Blog Example with Markdown</title><meta property="og:image" content="/assets/blog/dynamic-routing/cover.jpg"/><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/dee95cb3eb0acddbdbd1.css" as="style"/><link rel="stylesheet" href="/_next/static/css/dee95cb3eb0acddbdbd1.css"/><link rel="preload" href="/_next/static/css/b2509cdd2a8d2adb18f5.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b2509cdd2a8d2adb18f5.css"/><link rel="preload" href="/_next/static/chunks/main-f8cee52e05148884abcc.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-488dc228921f1fdbc0e7.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.d557686129d5a5cc0c94.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.c326fb833cc5579beb78.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-b190083eae221d2ced25.js" as="script"/><link rel="preload" href="/_next/static/chunks/2c3b9bffc7150b37a7b3810dfcf1c0b0fac2bd18.662fc5ba1a650b544028.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/posts/%5Bslug%5D-25b44dfb04e70336dbce.js" as="script"/></head><body><div id="__next"><div class="min-h-screen"><main><div class="container mx-auto px-5"><h2 class="text-2xl md:text-4xl font-bold tracking-tight md:tracking-tighter leading-tight mb-20 mt-8"><a class="hover:underline" href="/">Home</a></h2><article class="mb-32"><h1 class="text-6xl md:text-7xl lg:text-8xl font-bold tracking-tighter leading-tight md:leading-none mb-12 text-center md:text-left">Debug Node application inside docker using vs code</h1><div class="hidden md:block md:mb-12"><div class="flex items-center"><img src="/assets/blog/authors/alvaro.jpeg" class="w-12 h-12 rounded-full mr-4" alt="Álvaro Reis"/><div class="text-xl font-bold">Álvaro Reis</div></div></div><div class="mb-8 md:mb-16 -mx-5 sm:mx-0"><div class="-mx-5 sm:mx-0"><img src="/assets/blog/debug-node-docker-vscode/cover.jpg" alt="Cover Image for Debug Node application inside docker using vs code" class="shadow-small"/></div></div><div class="max-w-2xl mx-auto"><div class="block md:hidden mb-6"><div class="flex items-center"><img src="/assets/blog/authors/alvaro.jpeg" class="w-12 h-12 rounded-full mr-4" alt="Álvaro Reis"/><div class="text-xl font-bold">Álvaro Reis</div></div></div><div class="mb-6 text-lg"><time dateTime="2020-08-04T23:45:00.000Z">August	4, 2020</time></div></div><div class="max-w-2xl mx-auto"><div class="markdown-styles_markdown__1x9gM"><p>No more <code>console.log</code> everywhere on the project and then remove then to commit code!
Also debugging we are able to get much more info about what is happening on an specific execution time
In the end of the day, we may investigate better and solve problems faster</p>
<h2>Agenda</h2>
<ul>
<li>Motivation</li>
<li>Creating a sample application<ul>
<li>node</li>
<li>docker</li>
</ul></li>
<li>Configuring VS Code<ul>
<li>.vscode</li>
<li>v1.47 bugged!</li>
</ul></li>
</ul>
<h2>Motivation</h2>
<p>No more <code>console.log</code> everywhere on the project and then remove then to commit code!
Also debugging we are able to get much more info about what is happening on an specific execution time
In the end of the day, we may investigate better and solve problems faster</p>
<h2>Create a sample application</h2>
<p>Hey, sent me an <a href="mailto:reisneto.alvaro@gmail.com">reisneto.alvaro@gmail.com</a> reminding to do it (or not, if you find it isn't necessary)</p>
<h2>Configure VS Code</h2>
<p>inside your project create the folder .vscode<br>
<code>mkdir .vscode</code><br>
and inside .vscode create launch.json
<code>launch.json</code><br>
this file will configure how vscode will handle debugging  </p>
<h3>launch.json</h3>
<p>In order to run the debugger with a docker container, paste the code below inside your launch.json</p>
<pre><code class="language-json">{    
  "version": "0.2.0",
  "configurations": [
      {
          "type": "node",
          "request": "attach",
          "name": "d: Attach to Node",
          "remoteRoot": "/your/docker/workdir/app",
          "localRoot": "${workspaceFolder}/app",            
      },        
  ]
}
</code></pre>
<p><strong>remoteRoot</strong> is your work directory inside docker and <strong>localRoot</strong> your local work directory. Use <code>${workspaceFolder}</code> to get the absolute path of your project</p>
<h3>settings.json</h3>
<p>Don't ask me why, but when the config below is true our breakpoints don't work! so make sure it false. You can create a settings.json file inside .vscode folder or change it on your vs code settings.</p>
<pre><code class="language-json">  {
    "debug.javascript.usePreview": false,
  }
</code></pre>
<h3>Don't use version vs code 1.47!</h3>
<p>The whole idea of this post is this: I spent about 2 hours to figure out my vs code version was preventing me to use debugger. Breakpoints were not working because of it, even when I put <code>debug.javascript.usePreview</code> to false!  </p>
<p>Had to downgrade to <a href="https://code.visualstudio.com/updates/v1_46">version 1.46</a> to make it work.</p>
<hr>
<p>special thanks to <a href="https://tjaddison.com/blog/2019/08/styling-markdown-tailwind-gatsby/">this post</a> which helped me to styling my markdown -> html posts</p>
</div></div></article></div></main></div><footer class="bg-accent-1 border-t border-accent-2"><div class="container mx-auto px-5"><div class="py-28 flex flex-col lg:flex-row items-center"><h3 class="text-4xl lg:text-5xl font-bold tracking-tighter leading-tight text-center lg:text-left mb-10 lg:mb-0 lg:pr-4 lg:w-1/2">Sharing the path...</h3><div class="flex flex-col lg:flex-row justify-center items-center lg:pl-4 lg:w-1/2"><a href="https://github.com/reisneto" class="mx-3 font-bold hover:underline">GitHub</a></div></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Debug Node application inside docker using vs code","date":"2020-08-04T23:45:00.000Z","slug":"debug-node-docker-vscode","author":{"name":"Álvaro Reis","picture":"/assets/blog/authors/alvaro.jpeg"},"content":"\u003cp\u003eNo more \u003ccode\u003econsole.log\u003c/code\u003e everywhere on the project and then remove then to commit code!\nAlso debugging we are able to get much more info about what is happening on an specific execution time\nIn the end of the day, we may investigate better and solve problems faster\u003c/p\u003e\n\u003ch2\u003eAgenda\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eMotivation\u003c/li\u003e\n\u003cli\u003eCreating a sample application\u003cul\u003e\n\u003cli\u003enode\u003c/li\u003e\n\u003cli\u003edocker\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli\u003eConfiguring VS Code\u003cul\u003e\n\u003cli\u003e.vscode\u003c/li\u003e\n\u003cli\u003ev1.47 bugged!\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eMotivation\u003c/h2\u003e\n\u003cp\u003eNo more \u003ccode\u003econsole.log\u003c/code\u003e everywhere on the project and then remove then to commit code!\nAlso debugging we are able to get much more info about what is happening on an specific execution time\nIn the end of the day, we may investigate better and solve problems faster\u003c/p\u003e\n\u003ch2\u003eCreate a sample application\u003c/h2\u003e\n\u003cp\u003eHey, sent me an \u003ca href=\"mailto:reisneto.alvaro@gmail.com\"\u003ereisneto.alvaro@gmail.com\u003c/a\u003e reminding to do it (or not, if you find it isn't necessary)\u003c/p\u003e\n\u003ch2\u003eConfigure VS Code\u003c/h2\u003e\n\u003cp\u003einside your project create the folder .vscode\u003cbr\u003e\n\u003ccode\u003emkdir .vscode\u003c/code\u003e\u003cbr\u003e\nand inside .vscode create launch.json\n\u003ccode\u003elaunch.json\u003c/code\u003e\u003cbr\u003e\nthis file will configure how vscode will handle debugging  \u003c/p\u003e\n\u003ch3\u003elaunch.json\u003c/h3\u003e\n\u003cp\u003eIn order to run the debugger with a docker container, paste the code below inside your launch.json\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-json\"\u003e{    \n  \"version\": \"0.2.0\",\n  \"configurations\": [\n      {\n          \"type\": \"node\",\n          \"request\": \"attach\",\n          \"name\": \"d: Attach to Node\",\n          \"remoteRoot\": \"/your/docker/workdir/app\",\n          \"localRoot\": \"${workspaceFolder}/app\",            \n      },        \n  ]\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003eremoteRoot\u003c/strong\u003e is your work directory inside docker and \u003cstrong\u003elocalRoot\u003c/strong\u003e your local work directory. Use \u003ccode\u003e${workspaceFolder}\u003c/code\u003e to get the absolute path of your project\u003c/p\u003e\n\u003ch3\u003esettings.json\u003c/h3\u003e\n\u003cp\u003eDon't ask me why, but when the config below is true our breakpoints don't work! so make sure it false. You can create a settings.json file inside .vscode folder or change it on your vs code settings.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-json\"\u003e  {\n    \"debug.javascript.usePreview\": false,\n  }\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003eDon't use version vs code 1.47!\u003c/h3\u003e\n\u003cp\u003eThe whole idea of this post is this: I spent about 2 hours to figure out my vs code version was preventing me to use debugger. Breakpoints were not working because of it, even when I put \u003ccode\u003edebug.javascript.usePreview\u003c/code\u003e to false!  \u003c/p\u003e\n\u003cp\u003eHad to downgrade to \u003ca href=\"https://code.visualstudio.com/updates/v1_46\"\u003eversion 1.46\u003c/a\u003e to make it work.\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003especial thanks to \u003ca href=\"https://tjaddison.com/blog/2019/08/styling-markdown-tailwind-gatsby/\"\u003ethis post\u003c/a\u003e which helped me to styling my markdown -\u003e html posts\u003c/p\u003e\n","ogImage":{"url":"/assets/blog/dynamic-routing/cover.jpg"},"coverImage":"/assets/blog/debug-node-docker-vscode/cover.jpg"}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"debug-node-docker-vscode"},"buildId":"FNttQ6bXkdQ1UcCP4Z1pQ","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-e0a799dda1546678fa28.js"></script><script src="/_next/static/chunks/main-f8cee52e05148884abcc.js" async=""></script><script src="/_next/static/chunks/webpack-488dc228921f1fdbc0e7.js" async=""></script><script src="/_next/static/chunks/framework.d557686129d5a5cc0c94.js" async=""></script><script src="/_next/static/chunks/commons.c326fb833cc5579beb78.js" async=""></script><script src="/_next/static/chunks/pages/_app-b190083eae221d2ced25.js" async=""></script><script src="/_next/static/chunks/2c3b9bffc7150b37a7b3810dfcf1c0b0fac2bd18.662fc5ba1a650b544028.js" async=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-25b44dfb04e70336dbce.js" async=""></script><script src="/_next/static/FNttQ6bXkdQ1UcCP4Z1pQ/_buildManifest.js" async=""></script><script src="/_next/static/FNttQ6bXkdQ1UcCP4Z1pQ/_ssgManifest.js" async=""></script></body></html>